---
title: "Probability and Statistics"
subtitle: "The Evolution of Computer Processors: A statistic on Common Properties"
author: "Chau Dang Minh - 2013748 <br> Provide your name guys"
output: 
  # pdf_document: default
  html_document: default
---

```{r message=FALSE}
# Libraries and options
library(dplyr)
library(here)
library(knitr)
library(kableExtra)

# Self-defined functions
source("utils.R")

# Working directory
setwd(here())
```

# Dataset inspection

```{r}
# Read the CSV file into a data frame
cpu_data <- read.csv("dataset/Intel_CPUs.csv")
gpu_data <- read.csv("dataset/All_GPUs.csv")

```

Get the formatted first rows of the data

```{r}
# Inspect the CPU data
kable(head(cpu_data), format = "html") %>%
  kable_styling()
```

```{r}
kable(head(gpu_data), format = "html") %>%
  kable_styling()
```

Take a look at the columns.

```{r}
cpu_columns <- colnames(cpu_data)
gpu_columns <- colnames(gpu_data)
intersect(cpu_columns, gpu_columns)
```

```{r}
cpu_columns
```
```{r}
gpu_columns
```
```{r}
length(unique(gpu_data$Architecture))
```

```{r}
cpu_collections <- unique(cpu_data$Product_Collection)
length(cpu_collections)
```

There are 75 distinct values of <code>Product_Collection</code>. We will find out the key of this data.

```{r}
difference <- nrow(cpu_data) - nrow(unique(cpu_data[, c("Product_Collection", "Vertical_Segment", "Processor_Number", "Launch_Date")]))
difference
```

Let us check that the key of this data is the tuple <code>(Product_Collection, Processor_Number)</code>.

# Statistics

## How $\texttt{Recommended_Customer_Price}$ depends on other manufacturing properties

-   Filter out instances with no $\texttt{Recommended_Customer_Price}$
-   Choose concerned properties

```{r}
filtered_cpu_data <- filtered_data(cpu_data, valid_percentage=0.5)

processed_cpu_data <- 
  filtered_cpu_data[
    apply(filtered_cpu_data, 1, function(row) all(sapply(row, is_valid))), ]

selected_cpu_data <- processed_cpu_data[] # Adjust selected columns for your later needs
selected_cpu_data <- unique(selected_cpu_data)

kable(head(selected_cpu_data), format = "html") %>%
  kable_styling()
```

```{r}
nrow(selected_cpu_data)-nrow(unique(selected_cpu_data[, c("Product_Collection", "Processor_Number")]))
```


```{r}
# Assuming selected_cpu_data is your data frame

```

```{r}
filtered_gpu_data <- filtered_data(gpu_data, valid_percentage=0.5)

processed_gpu_data <- 
  filtered_gpu_data[
    apply(filtered_gpu_data, 1, function(row) all(sapply(row, is_valid))), ]

selected_gpu_data <- processed_gpu_data[] # Adjust selected columns for your later needs
selected_gpu_data <- unique(selected_gpu_data)
kable(head(selected_gpu_data), format = "html") %>%
  kable_styling()
```

```{r}
  nrow(selected_cpu_data) - nrow(selected_cpu_data[, c("Product_Collection", 
                                                       "Processor_Number")])
  nrow(selected_gpu_data) - nrow(selected_gpu_data[, c("Name")])
  # Outputs: 0
```